<html>
  <head>
    <title>InnKeeper Admin Panel</title>
    <script type="importmap">
  {
    "imports": {
      "@stomp/stompjs": "https://ga.jspm.io/npm:@stomp/stompjs@7.0.0/esm6/index.js"
    }
  }
</script>

<!-- ES Module Shims: Import maps polyfill for modules browsers without import maps support (all except Chrome 89+) -->
<script
  async
  src="https://ga.jspm.io/npm:es-module-shims@1.5.1/dist/es-module-shims.js"
  crossorigin="anonymous"
></script>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script> 
    <script  type="text/javascript">
      var stompClient;
      function connect() {
          var socket = new SockJS('/ws');
          stompClient = Stomp.over(socket);
          stompClient.connect({}, function (frame) {
              setConnected(true);
              console.log('Connected: ' + frame);
              stompClient.subscribe('/client/response', function (greeting) {
                  showGreeting(JSON.parse(greeting.body).content);
              });
          });
      }

      function disconnect() {
          if (stompClient !== null) {
              stompClient.disconnect();
          }
          setConnected(false);
          console.log("Disconnected");
      }

      function showGreeting(message) {
          $("#greetings").append("<tr><td>" + message + "</td></tr>");
      }

      function sendName() {
       stompClient.send("/app/hello", {}, JSON.stringify({
        'name' : ""
       }));
      }
    </script>
  </head>
  <body>
    Admin Panel pull from repo.
    <br/>
    <input type="button" onclick="connect();" value="connect"/>
  </body>
</html>
